
```python
#include <iostream>
#include <fstream>
#include <vector>
#include <algorithm>

int main() {
    std::ifstream input("input.txt");
    std::ofstream output("output.txt");

    long long N, R;
    input >> N >> R;

    std::vector<long long> arrSpiralLine(N, 0);
    long long middle = N / 2 + N % 2;
    const long long zero = 0;

    if (R <= middle) {
        arrSpiralLine[R - 1] = (N - (R - 1) * 2) * (N - (R - 1) * 2);
        long long start = std::max(zero, R - 2);
        for (long long i = start; i <= N - R; ++i) {
            arrSpiralLine[i] = arrSpiralLine[R - 1] + (R - i - 1);
        }
    } else {
        arrSpiralLine[R - 1] = ((N - (R - 1) * 2 - 1) * (N - (R - 1) * 2 - 1) + 1);
        for (long long i = R - 2; i >= N - R; --i) {
            arrSpiralLine[i] = arrSpiralLine[R - 1] - R + i + 1;
        }
    }

    for (long long i = 0; i < middle; ++i) {
        if (arrSpiralLine[i] != 0) break;
        arrSpiralLine[i] = (N - i * 2) * (N - i * 2) - ((N - i * 2) - 1) * 4 + R - 1 - i;
    }

    for (long long i = 0; i < middle; ++i) {
        long long idx = N - 1 - i;
        if (arrSpiralLine[idx] != 0) break;
        arrSpiralLine[idx] = (N - i * 2) * (N - i * 2) - (N - i * 2) - R + i + 2;
    }

    for (long long i = 0; i < N; ++i) {
        output << arrSpiralLine[i] << " ";
    }

    return 0;
}
```
## Реализация

Мы не строим всю спираль (матрицу) (потому что если будем строить, то улетим ML, а именно ошибку по памяти, возможно на некоторых тестах по времени), а вычисляем значения в нужной строке напрямую, используя формулы для чисел (элементов), лежащих на границах вложенных квадратов спирали.

Алгоритм можно описать воть так:
1. Определяем, находится ли необходимая нам строка **R** в верхней или нижней половине спирали.
2. Для позиций в строке **R**, которые лежат на границах текущего слоя спирали, вычисляет значения по формуле квадрата стороны слоя (тут постарайтесь понять как работают формулы пжпжпж, а то даже не интересно выходит с готовым кодом).
3. Дополняет оставшиеся позиции в строке, двигаясь от известных граничных значений влево/вправо.



Решение основано на аналитическом подходе к генерации спиральных матриц.
